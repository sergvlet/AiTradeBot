<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Test Chart ‚Äî SmartFusion</title>

    <!-- Bootstrap –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) -->
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
    >

    <!-- Lightweight Charts -->
    <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>

    <!-- Axios –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    <style>
        body {
            background: #0e0f11;
            color: #e0e0e0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        }

        .card-theme {
            background: #16191d;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.04);
        }

        #chart-container {
            width: 100%;
            height: 520px;
        }

        .badge-buy {
            background-color: #198754;
        }

        .badge-sell {
            background-color: #dc3545;
        }
    </style>
</head>
<body>

<div class="container py-4">
    <h2 class="mb-3">
        <span class="me-2">üìä</span>Test Chart ‚Äî SmartFusion / Scalping
    </h2>

    <div class="row g-4">
        <div class="col-lg-9">
            <div class="card card-theme p-3">
                <div class="d-flex justify-content-between align-items-center mb-2">
                    <div>
                        <span class="badge bg-primary me-2" id="symbol-badge">BTCUSDT</span>
                        <span class="badge bg-secondary" id="tf-badge">15m</span>
                    </div>
                    <button id="reload-btn" class="btn btn-sm btn-outline-light">
                        üîÑ –û–±–Ω–æ–≤–∏—Ç—å
                    </button>
                </div>
                <div id="chart-container"></div>
                <div class="mt-2 small text-muted">
                    –ò—Å—Ç–æ—á–Ω–∏–∫: <code>/api/test/chart?chatId=1&symbol=BTCUSDT&timeframe=15m</code>
                </div>
            </div>
        </div>

        <div class="col-lg-3">
            <div class="card card-theme p-3 mb-3">
                <h6 class="mb-2">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã</h6>
                <div class="mb-2">
                    <label class="form-label form-label-sm mb-1">chatId</label>
                    <input type="number" id="chat-id-input" class="form-control form-control-sm" value="1">
                </div>
                <div class="mb-2">
                    <label class="form-label form-label-sm mb-1">Symbol</label>
                    <input type="text" id="symbol-input" class="form-control form-control-sm" value="BTCUSDT">
                </div>
                <div class="mb-2">
                    <label class="form-label form-label-sm mb-1">Timeframe</label>
                    <select id="tf-select" class="form-select form-select-sm">
                        <option value="1m">1m</option>
                        <option value="5m">5m</option>
                        <option value="15m" selected>15m</option>
                        <option value="1h">1h</option>
                    </select>
                </div>
                <button id="apply-btn" class="btn btn-sm btn-primary w-100 mt-2">
                    ‚ñ∂Ô∏è –ó–∞–≥—Ä—É–∑–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫
                </button>
            </div>

            <div class="card card-theme p-3">
                <h6 class="mb-2">–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–¥–µ–ª–∫–∏</h6>
                <div id="trades-list" class="small" style="max-height: 260px; overflow-y: auto;"></div>
            </div>
        </div>
    </div>
</div>

<!-- –ù–∞—à JS -->
<script src="/js/test-chart.js"></script>

</body>
</html>
