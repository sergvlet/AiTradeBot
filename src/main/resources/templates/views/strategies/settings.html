<div th:fragment="content"
     class="container py-4 strategy-settings-page"
     th:attr="
        data-chat-id=${chatId},
        data-type=${type},
        data-exchange=${selectedExchange},
        data-network=${selectedNetwork}
     ">

    <link rel="stylesheet" th:href="@{/css/views/strategies/settings.css}"/>

    <h2 class="fw-bold mb-4">
        <i class="bi bi-gear-wide-connected"></i>
        –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ ‚Äî <span th:text="${type}">TYPE</span>
    </h2>

    <hr class="my-4"/>

    <!-- ====================== –¢–ê–ë–´ ====================== -->
    <ul class="nav nav-tabs mb-3">
        <li class="nav-item"><span class="nav-link tab-btn active" data-tab="tab-network">–°–µ—Ç—å</span></li>
        <li class="nav-item"><span class="nav-link tab-btn" data-tab="tab-general">–û–±—â–∏–µ</span></li>
        <li class="nav-item"><span class="nav-link tab-btn" data-tab="tab-risk">–†–∏—Å–∫</span></li>
        <li class="nav-item"><span class="nav-link tab-btn" data-tab="tab-trade">–¢–æ—Ä–≥–æ–≤–ª—è</span></li>
        <li class="nav-item"><span class="nav-link tab-btn" data-tab="tab-advanced">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ</span></li>
    </ul>

    <!-- ===================================================== -->
    <!-- TAB CONTENT (–í–ê–ñ–ù–û)                                   -->
    <!-- ===================================================== -->
    <div class="tab-content">

        <!-- ===================================================== -->
        <!-- TAB: NETWORK  (–í–ê–ñ–ù–û: –û–¢–î–ï–õ–¨–ù–´–ï –§–û–†–ú–´, –ù–ï –í–õ–û–ñ–ï–ù–ù–´–ï)   -->
        <!-- ===================================================== -->
        <div class="tab-pane active" id="tab-network">

            <div class="card card-theme p-4">

                <!-- ===================================================== -->
                <!-- 1) –ë–ò–†–ñ–ê + –°–ï–¢–¨ -->
                <!-- ===================================================== -->
                <div class="section-title">–ë–∏—Ä–∂–∞ –∏ —Å–µ—Ç—å</div>

                <form method="post"
                      th:action="@{|/strategies/${type}/config?chatId=${chatId}|}">

                    <input type="hidden" name="saveScope" value="network"/>
                    <input type="hidden" name="tab" value="network"/>

                    <div class="row g-4">

                        <!-- –ë–∏—Ä–∂–∞ -->
                        <div class="col-md-4">
                            <label class="form-label">–ë–∏—Ä–∂–∞</label>
                            <select id="exchangeSelect"
                                    class="form-control"
                                    name="exchange">
                                <option th:each="ex : ${availableExchanges}"
                                        th:value="${ex}"
                                        th:text="${ex}"
                                        th:selected="${selectedExchange == ex}">
                                </option>
                            </select>
                        </div>

                        <!-- –°–µ—Ç—å -->
                        <div class="col-md-4">
                            <label class="form-label">–°–µ—Ç—å</label>
                            <select id="networkSelect"
                                    class="form-control"
                                    name="network">
                                <option value="MAINNET"
                                        th:selected="${selectedNetwork?.name() == 'MAINNET'}">
                                    MAINNET
                                </option>
                                <option value="TESTNET"
                                        th:selected="${selectedNetwork?.name() == 'TESTNET'}">
                                    TESTNET
                                </option>
                            </select>
                        </div>

                        <!-- –°—Ç–∞—Ç—É—Å -->
                        <div class="col-md-4 d-flex flex-column justify-content-end">
                            <div class="fw-bold mb-1"
                                 th:classappend="${connectionOk} ? 'text-success' : 'text-danger'">
                                <span th:text="${connectionOk} ? '–ü–æ–¥–∫–ª—é—á–µ–Ω–æ' : '–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è'"></span>
                            </div>

                            <div>
                            <span class="badge bg-success"
                                  th:if="${exchangeSettings != null and exchangeSettings.hasKeys()}">
                                –ö–ª—é—á–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
                            </span>
                                <span class="badge bg-secondary"
                                      th:if="${exchangeSettings == null or !exchangeSettings.hasKeys()}">
                                –ö–ª—é—á–∏ –Ω–µ –∑–∞–¥–∞–Ω—ã
                            </span>
                            </div>
                        </div>

                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∏ -->
                    <div class="d-flex gap-2 mt-4">
                        <a th:href="@{/strategies(chatId=${chatId})}"
                           class="btn btn-outline-secondary">
                            ‚óÄ –ù–∞–∑–∞–¥
                        </a>

                        <div class="ms-auto">
                            <button type="submit"
                                    class="btn btn-primary">
                                ‚úî –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ¬´–°–µ—Ç—å¬ª
                            </button>
                        </div>
                    </div>

                </form>

                <!-- ===================================================== -->
                <!-- 2) –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê (AJAX, –ë–ï–ó save) -->
                <!-- ===================================================== -->
                <div class="section-title mt-4">–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ API</div>

                <div id="diagnostics-box">

                    <div class="d-flex align-items-center gap-2 mb-2">
                        <button type="button"
                                id="btn-diagnose"
                                class="btn btn-outline-info btn-sm"
                                th:data-chat-id="${chatId}"
                                th:data-exchange="${selectedExchange}"
                                th:data-network="${selectedNetwork}">
                            üîç –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É
                        </button>

                        <span id="diag-status" class="text-secondary small">
                        –ù–∞–∂–º–∏—Ç–µ ¬´–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É¬ª.
                    </span>
                    </div>

                    <div id="diag-not-supported"
                         class="text-warning"
                         style="display:none;">
                        –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è Binance –∏ Bybit.
                    </div>

                    <table id="diag-table"
                           class="table table-dark table-bordered align-middle text-center mt-2"
                           style="max-width:600px; display:none;">
                        <tbody>
                        <tr><td>API Key –≤–∞–ª–∏–¥–µ–Ω</td><td id="d-apiKeyValid">‚Äî</td></tr>
                        <tr><td>Secret –≤–∞–ª–∏–¥–µ–Ω</td><td id="d-secretValid">‚Äî</td></tr>
                        <tr><td>–ü–æ–¥–ø–∏—Å—å</td><td id="d-signatureValid">‚Äî</td></tr>
                        <tr><td>–î–æ—Å—Ç—É–ø –∫ –∞–∫–∫–∞—É–Ω—Ç—É</td><td id="d-accountReadable">‚Äî</td></tr>
                        <tr><td>–†–∞–∑—Ä–µ—à–µ–Ω–∞ —Ç–æ—Ä–≥–æ–≤–ª—è</td><td id="d-tradingAllowed">‚Äî</td></tr>
                        <tr><td>IP —Ä–∞–∑—Ä–µ—à—ë–Ω</td><td id="d-ipAllowed">‚Äî</td></tr>
                        <tr><td>–°–µ—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞</td><td id="d-networkOk">‚Äî</td></tr>
                        </tbody>
                    </table>

                    <div id="diag-message"
                         class="text-secondary mt-2"
                         style="display:none;"></div>

                </div>

                <!-- ===================================================== -->
                <!-- 3) API –ö–õ–Æ–ß–ò -->
                <!-- ===================================================== -->
                <div class="section-title mt-4">API –∫–ª—é—á–∏</div>

                <form method="post"
                      th:action="@{|/strategies/${type}/config?chatId=${chatId}|}">

                    <input type="hidden" name="saveScope" value="keys"/>
                    <input type="hidden" name="tab" value="network"/>

                    <input type="hidden" name="exchange" th:value="${selectedExchange}"/>
                    <input type="hidden" name="network" th:value="${selectedNetwork?.name()}"/>

                    <div class="row g-4">

                        <div class="col-md-4">
                            <label class="form-label">API Key</label>
                            <input class="form-control"
                                   name="apiKey"
                                   type="password"
                                   autocomplete="off"
                                   placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                            <div class="form-text text-secondary">
                                –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –º–µ–Ω—è—Ç—å.
                            </div>
                        </div>

                        <div class="col-md-4">
                            <label class="form-label">API Secret</label>
                            <input class="form-control"
                                   name="apiSecret"
                                   type="password"
                                   autocomplete="off"
                                   placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                            <div class="form-text text-secondary">
                                –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º, –µ—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –º–µ–Ω—è—Ç—å.
                            </div>
                        </div>

                        <div class="col-md-4">
                            <label class="form-label">Passphrase</label>
                            <input class="form-control"
                                   name="passphrase"
                                   type="password"
                                   autocomplete="off"
                                   placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                            <div class="form-text text-secondary">
                                –ù—É–∂–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –±–∏—Ä–∂ (–Ω–∞–ø—Ä–∏–º–µ—Ä OKX).
                            </div>
                        </div>

                    </div>

                    <div class="d-flex gap-2 mt-4">
                        <div class="ms-auto">
                            <button type="submit"
                                    class="btn btn-primary">
                                ‚úî –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ¬´–ö–ª—é—á–∏¬ª
                            </button>
                        </div>
                    </div>

                </form>

            </div>
        </div>

        <!-- ===================================================== -->
        <!-- NETWORK TAB: JS -->
        <!-- ===================================================== -->
        <script src="/js/strategies/network.tab.js"></script>

        <!-- ===================================================== -->
        <!-- –ï–î–ò–ù–°–¢–í–ï–ù–ù–´–ô FORM –î–õ–Ø: GENERAL / RISK / TRADE / ADV   -->
        <!-- ===================================================== -->
        <form method="post"
              th:object="${strategy}"
              th:action="@{|/strategies/${type}/config?chatId=${chatId}|}"
              class="card card-theme p-4">

            <input type="hidden" name="exchange" th:value="${selectedExchange}"/>
            <input type="hidden" name="network" th:value="${selectedNetwork}"/>

            <!-- ====================== GENERAL TAB ================== -->
            <div class="tab-pane" id="tab-general">

                <div class="section-title">–ë–∞–ª–∞–Ω—Å –∞–∫–∫–∞—É–Ω—Ç–∞</div>

                <div class="row g-4">

                    <!-- üí∞ –î–û–°–¢–£–ü–ù–û –°–†–ï–î–°–¢–í -->
                    <div class="col-md-4">
                        <label class="form-label">–î–æ—Å—Ç—É–ø–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤</label>
                        <div class="input-group">
                            <input class="form-control" readonly
                                   th:value="${availableBalance != null ? availableBalance : '‚Äî'}">
                            <span class="input-group-text"
                                  th:text="${selectedAsset != null ? selectedAsset : '‚Äî'}">
                    USDT
                </span>
                        </div>
                        <div class="form-text">
                            –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å –Ω–∞ –±–∏—Ä–∂–µ (free).
                        </div>
                    </div>

                    <!-- üí± –í–´–ë–û–† –ê–ö–¢–ò–í–ê (AJAX + FORM SAFE) -->
                    <div class="col-md-4">
                        <label class="form-label">–ê–∫—Ç–∏–≤ —Å—á—ë—Ç–∞</label>

                        <!-- ‚úÖ –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ï –ø–æ–ª–µ, —É—Ö–æ–¥—è—â–µ–µ –≤ submit -->
                        <input type="hidden"
                               id="accountAssetHidden"
                               name="accountAsset"
                               th:value="${selectedAsset}" />

                        <!-- ‚ùó select –ë–ï–ó name -->
                        <select id="accountAssetSelect"
                                class="form-select"
                                th:disabled="${#lists.isEmpty(availableAssets)}"
                                th:data-chat-id="${chatId}"
                                th:data-type="${type}"
                                th:data-exchange="${selectedExchange}"
                                th:data-network="${selectedNetwork}">

                            <option th:each="asset : ${availableAssets}"
                                    th:value="${asset}"
                                    th:text="${asset}"
                                    th:selected="${asset == selectedAsset}">
                            </option>
                        </select>

                        <div class="form-text">
                            –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤—ã —Å –¥–æ—Å—Ç—É–ø–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º.
                        </div>
                    </div>
                </div>

                <hr class="my-4"/>

                <div class="section-title">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤</div>

                <div class="row g-4 align-items-end">

                    <!-- MODE -->
                    <div class="col-md-4">
                        <label class="form-label">–õ–∏–º–∏—Ç</label>

                        <select class="form-select"
                                id="exposureMode">
                            <option value="NONE">–ë–µ–∑ –ª–∏–º–∏—Ç–∞ (–≤–µ—Å—å –±–∞–ª–∞–Ω—Å)</option>
                            <option value="USD">–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—É–º–º–∞</option>
                            <option value="PCT">–ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –±–∞–ª–∞–Ω—Å–∞</option>
                        </select>

                        <div class="form-text">
                            –í—ã–±–µ—Ä–∏, –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤.
                        </div>
                    </div>

                    <!-- VALUE -->
                    <div class="col-md-4">
                        <label class="form-label" id="exposureValueLabel">–ó–Ω–∞—á–µ–Ω–∏–µ</label>

                        <!-- üî¢ –¥–ª—è USD / PCT -->
                        <input type="number"
                               class="form-control"
                               id="exposureValue"
                               step="1"
                               min="0"
                               placeholder="–ù–∞–ø—Ä. 500"/>

                        <!-- üîí –¥–ª—è NONE -->
                        <input type="text"
                               class="form-control d-none"
                               id="exposureValueReadonly"
                               readonly
                               value="–í–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å"/>

                        <div class="form-text" id="exposureValueHint"></div>
                    </div>

                    <!-- PREVIEW -->
                    <div class="col-md-4">
                        <div class="alert alert-info small mt-4" id="exposurePreview">
                            –í—ã–±–µ—Ä–∏ —Ä–µ–∂–∏–º –ª–∏–º–∏—Ç–∞.
                        </div>
                    </div>

                    <!-- üî• –ò–°–¢–û–ß–ù–ò–ö –ò–°–¢–ò–ù–´ –ò–ó BACKEND -->
                    <input type="hidden"
                           id="exposureInitialMode"
                           th:value="${strategy.maxExposureUsd != null
                ? 'USD'
                : (strategy.maxExposurePct != null ? 'PCT' : 'NONE')}" />

                    <!-- ‚úÖ –¢–û, –ß–¢–û –£–•–û–î–ò–¢ –í –ë–î -->
                    <input type="hidden"
                           id="maxExposureUsdHidden"
                           name="maxExposureUsd"
                           th:value="${strategy.maxExposureUsd}">

                    <input type="hidden"
                           id="maxExposurePctHidden"
                           name="maxExposurePct"
                           th:value="${strategy.maxExposurePct}">
                </div>



                <script>
                    (function () {

                        const mode      = document.getElementById('exposureMode');

                        const valueNum  = document.getElementById('exposureValue');
                        const valueRO   = document.getElementById('exposureValueReadonly');

                        const label     = document.getElementById('exposureValueLabel');
                        const hint      = document.getElementById('exposureValueHint');
                        const preview   = document.getElementById('exposurePreview');

                        const usdHidden = document.getElementById('maxExposureUsdHidden');
                        const pctHidden = document.getElementById('maxExposurePctHidden');

                        const asset =
                            document.getElementById('accountAssetHidden')?.value || 'USDT';

                        const initialMode =
                            document.getElementById('exposureInitialMode')?.value || 'NONE';

                        mode.value = initialMode;

                        // –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
                        if (initialMode === 'USD') {
                            valueNum.value = usdHidden.value || '';
                        } else if (initialMode === 'PCT') {
                            valueNum.value = pctHidden.value || '';
                        }

                        applyUi();

                        function applyUi() {
                            const m = mode.value;

                            // ===== NONE =====
                            if (m === 'NONE') {
                                valueNum.classList.add('d-none');
                                valueRO.classList.remove('d-none');

                                label.textContent = '–ó–Ω–∞—á–µ–Ω–∏–µ';
                                hint.textContent = '–ë—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å.';
                                preview.textContent = '–õ–∏–º–∏—Ç: –≤–µ—Å—å –±–∞–ª–∞–Ω—Å';

                                // üî• –ö–ê–ù–û–ù–ò–ß–ï–°–ö–ò–ô –°–ú–´–°–õ
                                usdHidden.value = '';
                                pctHidden.value = '';
                                return;
                            }

                            // ===== USD / PCT =====
                            valueRO.classList.add('d-none');
                            valueNum.classList.remove('d-none');

                            if (m === 'USD') {
                                label.textContent = `–°—É–º–º–∞ (${asset})`;
                                valueNum.placeholder = '–ù–∞–ø—Ä. 500';
                                valueNum.max = '';
                                hint.textContent = `–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤ ${asset}.`;
                            }

                            if (m === 'PCT') {
                                label.textContent = '–ü—Ä–æ—Ü–µ–Ω—Ç (%)';
                                valueNum.placeholder = '–ù–∞–ø—Ä. 50';
                                valueNum.max = '100';
                                hint.textContent = '–ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞.';
                            }

                            syncHidden();
                        }

                        function syncHidden() {
                            const m = mode.value;
                            const raw = valueNum.value.trim();

                            if (!raw || m === 'NONE') {
                                usdHidden.value = '';
                                pctHidden.value = '';
                                preview.textContent = '–õ–∏–º–∏—Ç: –≤–µ—Å—å –±–∞–ª–∞–Ω—Å';
                                return;
                            }

                            const v = Number(raw);
                            if (!Number.isFinite(v) || v < 0) return;

                            if (m === 'USD') {
                                usdHidden.value = raw;
                                pctHidden.value = '';
                                preview.textContent = `–õ–∏–º–∏—Ç: ${raw} ${asset}`;
                            }

                            if (m === 'PCT') {
                                const clamped = Math.min(100, v);
                                pctHidden.value = String(clamped);
                                usdHidden.value = '';
                                valueNum.value = clamped;
                                preview.textContent = `–õ–∏–º–∏—Ç: ${clamped}%`;
                            }
                        }

                        mode.addEventListener('change', applyUi);
                        valueNum.addEventListener('input', syncHidden);

                    })();
                </script>







                <hr class="my-4"/>

                <div class="section-title">–ü—Ä–∏–±—ã–ª—å</div>

                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="form-check">
                            <input class="form-check-input"
                                   type="checkbox"
                                   id="reinvestProfit"
                                   name="reinvestProfit"
                                   value="true"
                                   th:checked="${strategy.reinvestProfit}"/>

                            <label class="form-check-label" for="reinvestProfit">
                                –†–µ–∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–±—ã–ª—å
                            </label>
                        </div>

                        <div class="form-text">
                            –ü—Ä–∏–±—ã–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–¥–µ–ª–∫–∞—Ö.
                        </div>
                    </div>
                </div>

                <hr class="my-4"/>

                <div class="section-title">–ö–æ–º–∏—Å—Å–∏–∏ –±–∏—Ä–∂–∏</div>

                <div class="row g-4">
                    <div class="col-md-4">
                        <label class="form-label">–ö–æ–º–∏—Å—Å–∏—è Maker</label>
                        <input class="form-control" readonly
                               th:value="${accountFees?.makerPct != null ? accountFees.makerPct : '‚Äî'}">
                    </div>

                    <div class="col-md-4">
                        <label class="form-label">–ö–æ–º–∏—Å—Å–∏—è Taker</label>
                        <input class="form-control" readonly
                               th:value="${accountFees?.takerPct != null ? accountFees.takerPct : '‚Äî'}">
                    </div>

                    <div class="col-md-4">
                        <div class="alert alert-secondary small mt-4">
                            –ö–æ–º–∏—Å—Å–∏–∏ –ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è —Å –±–∏—Ä–∂–∏ –∏ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
                        </div>
                    </div>
                </div>

                <div class="d-flex justify-content-end mt-4">
                    <button type="submit"
                            class="btn btn-primary"
                            name="saveScope"
                            value="general">
                        ‚úî –°–æ—Ö—Ä–∞–Ω–∏—Ç—å ¬´–û–±—â–∏–µ¬ª
                    </button>
                </div>
            </div>
            <script>
                document.addEventListener('DOMContentLoaded', () => {
                    const select = document.getElementById('accountAssetSelect');
                    const hidden = document.getElementById('accountAssetHidden');

                    if (select && hidden) {
                        select.addEventListener('change', () => {
                            hidden.value = select.value;
                            console.log('accountAsset changed ->', select.value);
                        });
                    }
                });
            </script>



            <!-- ====================== RISK TAB ===================== -->
            <div class="tab-pane" id="tab-risk">
                <!-- –û—Å—Ç–∞–≤—å —Ç—É—Ç —Ç–≤–æ–π —Ç–µ–∫—É—â–∏–π Risk (–∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞–≥–ª—É—à–∫—É) -->
            </div>

            <!-- ====================== TRADE TAB ==================== -->
            <div class="tab-pane" id="tab-trade">
                <!-- –û—Å—Ç–∞–≤—å —Ç—É—Ç —Ç–≤–æ–π —Ç–µ–∫—É—â–∏–π Trade (–∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞–≥–ª—É—à–∫—É) -->
            </div>

            <!-- ====================== ADVANCED TAB ================= -->
            <div class="tab-pane" id="tab-advanced">
                <!-- –û—Å—Ç–∞–≤—å —Ç—É—Ç —Ç–≤–æ–π —Ç–µ–∫—É—â–∏–π Advanced (–∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞–≥–ª—É—à–∫—É) -->
            </div>

        </form>

    </div> <!-- /tab-content -->

    <script th:src="@{/js/views/strategies/settings.js}"></script>
</div>
